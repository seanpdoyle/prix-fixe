<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Use the title from a page's frontmatter if it has one -->
    <title>Internationalize application's text
</title>
    <link href="../../stylesheets/site.css" rel="stylesheet" />
    <script src="../../javascripts/site.js"></script>
  </head>
  <body class="page">
    <header class="header">
      <h1 class="header__name">
<a href="../../">          prix-fixe
</a>      </h1>


      <nav class="
        header__navigation
        navigation
        
      ">
<a href="../b7dc64789961abaf7edd2e2ccad85f29d68c0374/">              &#8592; Previous
</a>
<a href="../d5d8c7b616774fb5f8a325db27005f1436ae076a/">              Next &#8594;
</a>      </nav>
    </header>

    <main class="content">
      <details class="accordion content__item">
        <summary class="accordion__summary">
          <div class="accordion__closed">
            <nav class="
              commit-history
              u-db-overflow-y--auto
              u-mb-overflow-x--scroll
            ">
                <a href="../1106e13e2568ee68f1528e4ac3e42070ad24dfc6/" class="commit-node commit-node--collapsed" title="[GENERATED] Initial Commit
"></a>
                <a href="../65bf913763168f594a3873bcd9d0f6577602c986/" class="commit-node commit-node--collapsed" title="Elaborate on the project's goals in the README
"></a>
                <a href="../6d1482de076a391b14b055aba66413577d326997/" class="commit-node commit-node--collapsed" title="Un-comment remaining `Gemfile` dependencies
"></a>
                <a href="../7054cb0bdbcd5c302b9cb9c8bb504d70fa937ff0/" class="commit-node commit-node--collapsed" title="Create `git-read` GitHub Action
"></a>
                <a href="../6e74b576f371146aa095015facdd5c6661effe7d/" class="commit-node commit-node--collapsed" title="Execute the Rails-generated `bin/setup` script
"></a>
                <a href="../db11ed1a1f3ac2b60e8f5815d12f654db5ea7f8e/" class="commit-node commit-node--collapsed" title="Add `UserSharesAMessageTest`
"></a>
                <a href="../34086aa24fa23fb16937294f915e91b5c32a1695/" class="commit-node commit-node--collapsed" title="Add a failing system test
"></a>
                <a href="../e5d70abb66bda5a6c12633dcd0ef2694df085dde/" class="commit-node commit-node--collapsed" title="Declare `GET &quot;/&quot;` route
"></a>
                <a href="../248165133276eb1255d63e399e347c99ab679f1c/" class="commit-node commit-node--collapsed" title="Declare `NotesController`
"></a>
                <a href="../4ecc90a7c6f9fe729cd31ea7018d6ddf3b5a561f/" class="commit-node commit-node--collapsed" title="Extend from `ApplicationController`
"></a>
                <a href="../1575f8aacf35cd5e56e5ed7339cbd92f559eace0/" class="commit-node commit-node--collapsed" title="Declare `app/views/notes/index.html.erb`
"></a>
                <a href="../3d5c24131f813fb57c7973eef853ccdb6ce85a64/" class="commit-node commit-node--collapsed" title="Render `&lt;a&gt;` containing `&quot;Share a Note&quot;`
"></a>
                <a href="../baa239b9ed6203c521437819145a752ef2544d1e/" class="commit-node commit-node--collapsed" title="Link to `&quot;/&quot;`
"></a>
                <a href="../68aabf4b469d70ae2437bef65a88b068b8e8aaff/" class="commit-node commit-node--collapsed" title="Declare `GET /notes/new` route
"></a>
                <a href="../a058535840fd6096737f0d1668c6c7a843064b22/" class="commit-node commit-node--collapsed" title="Declare `app/views/notes/new.html.erb` view
"></a>
                <a href="../f1f3007cd8b25676505268d4be7a8c8803489921/" class="commit-node commit-node--collapsed" title="Render `&lt;label&gt;` and `&lt;textarea&gt;`
"></a>
                <a href="../56e7fdf6b14466cbd80413e0293b21220d3c3b1f/" class="commit-node commit-node--collapsed" title="Render `&lt;button&gt;` in `notes#new` template
"></a>
                <a href="../708be78478a0c9e83e2e40fc568254f74dd61351/" class="commit-node commit-node--collapsed" title="Render `&lt;form&gt;` element in `notes#new` template
"></a>
                <a href="../009e5588b4b359340478d1fb61a4c4e89fc48091/" class="commit-node commit-node--collapsed" title="Declare a `POST /notes` route
"></a>
                <a href="../1b63d2ba0e33a63ca0b36dda0f54ba3c5965c7a4/" class="commit-node commit-node--collapsed" title="Declare `notes#create` view template
"></a>
                <a href="../077dc0ea0fb8ffa3b1e415939f371a1148e11bc3/" class="commit-node commit-node--collapsed" title="Render content from `params`
"></a>
                <a href="../3463a9808f902e7cff01d8b8b55f0d923ce64f75/" class="commit-node commit-node--collapsed" title="Add `name=&quot;content&quot;` to `&lt;textarea&gt;`
"></a>
                <a href="../8dfd3e1d003435b4500d416349427dff3dde3988/" class="commit-node commit-node--collapsed" title="Enable Request Forgery Protection in `test`
"></a>
                <a href="../ad706fc8c49bb0b5e201aa611ee11b5716fa1e3c/" class="commit-node commit-node--collapsed" title="Use `form_tag` instead of `&lt;form&gt;`
"></a>
                <a href="../e89d8ddbbe929242d630489a0bb4f7c1202eb0c6/" class="commit-node commit-node--collapsed" title="Render `&lt;form&gt;` with `form_tag` with `form_with`
"></a>
                <a href="../2d47a23ae7f12369f39caab76f3495c55ba89421/" class="commit-node commit-node--collapsed" title="Build `&lt;textarea&gt;` with `text_area` helper
"></a>
                <a href="../53630c0ed9fb0fe55528b61c67474c9726352d8f/" class="commit-node commit-node--collapsed" title="Replace `&lt;label&gt;` with `#label` invocation
"></a>
                <a href="../7b1357b845dff30ce496ee176cbf178c5b75f228/" class="commit-node commit-node--collapsed" title="Replace `&lt;button&gt;` with `#submit` invocation
"></a>
                <a href="../349ff340f1ada463e017b08877db112e344a0f75/" class="commit-node commit-node--collapsed" title="Use named route in `notes#index`
"></a>
                <a href="../de5cd74abf50841ca0c8ba760de946ea78c6d49a/" class="commit-node commit-node--collapsed" title="Replace `&quot;/notes&quot;` with `notes_path` invocation
"></a>
                <a href="../d2e1abc879f67bce1912985be63e1e41bcfac304/" class="commit-node commit-node--collapsed" title="Replace `post`, `get` declarations with `resources`
"></a>
                <a href="../91a6bc2e984532b8ac33d285b39c45814f893b43/" class="commit-node commit-node--collapsed" title="Rename `get &quot;/&quot;` route to &quot;root&quot;
"></a>
                <a href="../6cd7a50a3f62e53207f3a54d363d2686fdd76f4a/" class="commit-node commit-node--collapsed" title="Replace `get &quot;/&quot;` declaration with `root`
"></a>
                <a href="../0b4258c2d32f4394c5a6b46fed59ee37f18704e1/" class="commit-node commit-node--collapsed" title="Drive system tests with Headless Chrome Browser
"></a>
                <a href="../f1a7369f2dac3e830573f9ed53c1c31a346a820a/" class="commit-node commit-node--collapsed" title="Complete the first TDD Red-Green-Refactor Cycle
"></a>
                <a href="../1a9cf2c770a8c7b5f3d219189b0fe59c78728e72/" class="commit-node commit-node--collapsed" title="Replace root with Redirect to `/notes`
"></a>
                <a href="../e3a1b4519b89a2dee37b637db72aa7231459bec6/" class="commit-node commit-node--collapsed" title="Add failing system test
"></a>
                <a href="../9bee0580b4195e57466542a9760f98ca4f06e74b/" class="commit-node commit-node--collapsed" title="Generate `Note` model
"></a>
                <a href="../750d9effe4d2c196b5068fd5d25269da4afde9ee/" class="commit-node commit-node--collapsed" title="Run the `create_notes` migration
"></a>
                <a href="../9c2180bd38afc27da8fbc1571e4b21ecd093cb38/" class="commit-node commit-node--collapsed" title="Render a list of all `Note` records `notes#index`
"></a>
                <a href="../058f426f347216d0ef06683fa4a6782daedcd153/" class="commit-node commit-node--collapsed" title="Render `notes#index` from controller action
"></a>
                <a href="../5177568edf9a7e8596772206161341cd8ee0e70f/" class="commit-node commit-node--collapsed" title="Introduce `NotesController` tests
"></a>
                <a href="../244f2e019cd4cc2cfd80b3d7670a371c1be3301c/" class="commit-node commit-node--collapsed" title="Disable CSRF-protection when in `test` environment
"></a>
                <a href="../95fe10f83f136930ae3b6dd5b1c4ed3c7bc74109/" class="commit-node commit-node--collapsed" title="Persist data in `POST /notes` requests to `notes`
"></a>
                <a href="../f8a6dce4081e8589b3508a89f96ab6ee115c8eae/" class="commit-node commit-node--collapsed" title="Redirect to `/notes` after `POST /notes` requests
"></a>
                <a href="../934066e4fcdca297a3a9155e8f5c674ed23d16a7/" class="commit-node commit-node--collapsed" title="Validate presence of `notes.content`
"></a>
                <a href="../b7dc64789961abaf7edd2e2ccad85f29d68c0374/" class="commit-node commit-node--collapsed" title="Pass `model:` instead of `url:` in `notes#new`
"></a>
                <a href="./" class="commit-node commit-node--collapsed" title="Internationalize application's text
" aria-current="page"></a>
                <a href="../d5d8c7b616774fb5f8a325db27005f1436ae076a/" class="commit-node commit-node--collapsed" title="Use `FormBuilder` to internationalize labels
"></a>
            </nav>

            <div class="accordion__toggle">
              <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="accordion--desktop"><title>Expand History</title>
  <path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 01.708 0l6 6a.5.5 0 010 .708l-6 6a.5.5 0 01-.708-.708L10.293 8 4.646 2.354a.5.5 0 010-.708z" clip-rule="evenodd"></path>
</svg>


              <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="accordion--mobile"><title>Expand History</title>
  <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 01.708 0L8 10.293l5.646-5.647a.5.5 0 01.708.708l-6 6a.5.5 0 01-.708 0l-6-6a.5.5 0 010-.708z" clip-rule="evenodd"></path>
</svg>

            </div>
          </div>

          <div class="accordion__opened">
            <div class="accordion__toggle accordion__toggle--fill">
              <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="accordion--desktop"><title>Collapse History</title>
  <path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 010 .708L5.707 8l5.647 5.646a.5.5 0 01-.708.708l-6-6a.5.5 0 010-.708l6-6a.5.5 0 01.708 0z" clip-rule="evenodd"></path>
</svg>


              <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="accordion--mobile"><title>Collapse History</title>
  <path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 01.708 0l6 6a.5.5 0 01-.708.708L8 5.707l-5.646 5.647a.5.5 0 01-.708-.708l6-6z" clip-rule="evenodd"></path>
</svg>

            </div>
          </div>
        </summary>

        <nav class="
          commit-history
          commit-history--full
          u-db-overflow-y--auto
          u-mb-overflow-x--scroll
        ">
<a href="../1106e13e2568ee68f1528e4ac3e42070ad24dfc6/" class="commit-node commit-node--full">              <p>[GENERATED] Initial Commit</p>

</a><a href="../65bf913763168f594a3873bcd9d0f6577602c986/" class="commit-node commit-node--full">              <p>Elaborate on the project&#39;s goals in the README</p>

</a><a href="../6d1482de076a391b14b055aba66413577d326997/" class="commit-node commit-node--full">              <p>Un-comment remaining <code>Gemfile</code> dependencies</p>

</a><a href="../7054cb0bdbcd5c302b9cb9c8bb504d70fa937ff0/" class="commit-node commit-node--full">              <p>Create <code>git-read</code> GitHub Action</p>

</a><a href="../6e74b576f371146aa095015facdd5c6661effe7d/" class="commit-node commit-node--full">              <p>Execute the Rails-generated <code>bin/setup</code> script</p>

</a><a href="../db11ed1a1f3ac2b60e8f5815d12f654db5ea7f8e/" class="commit-node commit-node--full">              <p>Add <code>UserSharesAMessageTest</code></p>

</a><a href="../34086aa24fa23fb16937294f915e91b5c32a1695/" class="commit-node commit-node--full">              <p>Add a failing system test</p>

</a><a href="../e5d70abb66bda5a6c12633dcd0ef2694df085dde/" class="commit-node commit-node--full">              <p>Declare <code>GET &quot;/&quot;</code> route</p>

</a><a href="../248165133276eb1255d63e399e347c99ab679f1c/" class="commit-node commit-node--full">              <p>Declare <code>NotesController</code></p>

</a><a href="../4ecc90a7c6f9fe729cd31ea7018d6ddf3b5a561f/" class="commit-node commit-node--full">              <p>Extend from <code>ApplicationController</code></p>

</a><a href="../1575f8aacf35cd5e56e5ed7339cbd92f559eace0/" class="commit-node commit-node--full">              <p>Declare <code>app/views/notes/index.html.erb</code></p>

</a><a href="../3d5c24131f813fb57c7973eef853ccdb6ce85a64/" class="commit-node commit-node--full">              <p>Render <code>&lt;a&gt;</code> containing <code>&quot;Share a Note&quot;</code></p>

</a><a href="../baa239b9ed6203c521437819145a752ef2544d1e/" class="commit-node commit-node--full">              <p>Link to <code>&quot;/&quot;</code></p>

</a><a href="../68aabf4b469d70ae2437bef65a88b068b8e8aaff/" class="commit-node commit-node--full">              <p>Declare <code>GET /notes/new</code> route</p>

</a><a href="../a058535840fd6096737f0d1668c6c7a843064b22/" class="commit-node commit-node--full">              <p>Declare <code>app/views/notes/new.html.erb</code> view</p>

</a><a href="../f1f3007cd8b25676505268d4be7a8c8803489921/" class="commit-node commit-node--full">              <p>Render <code>&lt;label&gt;</code> and <code>&lt;textarea&gt;</code></p>

</a><a href="../56e7fdf6b14466cbd80413e0293b21220d3c3b1f/" class="commit-node commit-node--full">              <p>Render <code>&lt;button&gt;</code> in <code>notes#new</code> template</p>

</a><a href="../708be78478a0c9e83e2e40fc568254f74dd61351/" class="commit-node commit-node--full">              <p>Render <code>&lt;form&gt;</code> element in <code>notes#new</code> template</p>

</a><a href="../009e5588b4b359340478d1fb61a4c4e89fc48091/" class="commit-node commit-node--full">              <p>Declare a <code>POST /notes</code> route</p>

</a><a href="../1b63d2ba0e33a63ca0b36dda0f54ba3c5965c7a4/" class="commit-node commit-node--full">              <p>Declare <code>notes#create</code> view template</p>

</a><a href="../077dc0ea0fb8ffa3b1e415939f371a1148e11bc3/" class="commit-node commit-node--full">              <p>Render content from <code>params</code></p>

</a><a href="../3463a9808f902e7cff01d8b8b55f0d923ce64f75/" class="commit-node commit-node--full">              <p>Add <code>name=&quot;content&quot;</code> to <code>&lt;textarea&gt;</code></p>

</a><a href="../8dfd3e1d003435b4500d416349427dff3dde3988/" class="commit-node commit-node--full">              <p>Enable Request Forgery Protection in <code>test</code></p>

</a><a href="../ad706fc8c49bb0b5e201aa611ee11b5716fa1e3c/" class="commit-node commit-node--full">              <p>Use <code>form_tag</code> instead of <code>&lt;form&gt;</code></p>

</a><a href="../e89d8ddbbe929242d630489a0bb4f7c1202eb0c6/" class="commit-node commit-node--full">              <p>Render <code>&lt;form&gt;</code> with <code>form_tag</code> with <code>form_with</code></p>

</a><a href="../2d47a23ae7f12369f39caab76f3495c55ba89421/" class="commit-node commit-node--full">              <p>Build <code>&lt;textarea&gt;</code> with <code>text_area</code> helper</p>

</a><a href="../53630c0ed9fb0fe55528b61c67474c9726352d8f/" class="commit-node commit-node--full">              <p>Replace <code>&lt;label&gt;</code> with <code>#label</code> invocation</p>

</a><a href="../7b1357b845dff30ce496ee176cbf178c5b75f228/" class="commit-node commit-node--full">              <p>Replace <code>&lt;button&gt;</code> with <code>#submit</code> invocation</p>

</a><a href="../349ff340f1ada463e017b08877db112e344a0f75/" class="commit-node commit-node--full">              <p>Use named route in <code>notes#index</code></p>

</a><a href="../de5cd74abf50841ca0c8ba760de946ea78c6d49a/" class="commit-node commit-node--full">              <p>Replace <code>&quot;/notes&quot;</code> with <code>notes_path</code> invocation</p>

</a><a href="../d2e1abc879f67bce1912985be63e1e41bcfac304/" class="commit-node commit-node--full">              <p>Replace <code>post</code>, <code>get</code> declarations with <code>resources</code></p>

</a><a href="../91a6bc2e984532b8ac33d285b39c45814f893b43/" class="commit-node commit-node--full">              <p>Rename <code>get &quot;/&quot;</code> route to &quot;root&quot;</p>

</a><a href="../6cd7a50a3f62e53207f3a54d363d2686fdd76f4a/" class="commit-node commit-node--full">              <p>Replace <code>get &quot;/&quot;</code> declaration with <code>root</code></p>

</a><a href="../0b4258c2d32f4394c5a6b46fed59ee37f18704e1/" class="commit-node commit-node--full">              <p>Drive system tests with Headless Chrome Browser</p>

</a><a href="../f1a7369f2dac3e830573f9ed53c1c31a346a820a/" class="commit-node commit-node--full">              <p>Complete the first TDD Red-Green-Refactor Cycle</p>

</a><a href="../1a9cf2c770a8c7b5f3d219189b0fe59c78728e72/" class="commit-node commit-node--full">              <p>Replace root with Redirect to <code>/notes</code></p>

</a><a href="../e3a1b4519b89a2dee37b637db72aa7231459bec6/" class="commit-node commit-node--full">              <p>Add failing system test</p>

</a><a href="../9bee0580b4195e57466542a9760f98ca4f06e74b/" class="commit-node commit-node--full">              <p>Generate <code>Note</code> model</p>

</a><a href="../750d9effe4d2c196b5068fd5d25269da4afde9ee/" class="commit-node commit-node--full">              <p>Run the <code>create_notes</code> migration</p>

</a><a href="../9c2180bd38afc27da8fbc1571e4b21ecd093cb38/" class="commit-node commit-node--full">              <p>Render a list of all <code>Note</code> records <code>notes#index</code></p>

</a><a href="../058f426f347216d0ef06683fa4a6782daedcd153/" class="commit-node commit-node--full">              <p>Render <code>notes#index</code> from controller action</p>

</a><a href="../5177568edf9a7e8596772206161341cd8ee0e70f/" class="commit-node commit-node--full">              <p>Introduce <code>NotesController</code> tests</p>

</a><a href="../244f2e019cd4cc2cfd80b3d7670a371c1be3301c/" class="commit-node commit-node--full">              <p>Disable CSRF-protection when in <code>test</code> environment</p>

</a><a href="../95fe10f83f136930ae3b6dd5b1c4ed3c7bc74109/" class="commit-node commit-node--full">              <p>Persist data in <code>POST /notes</code> requests to <code>notes</code></p>

</a><a href="../f8a6dce4081e8589b3508a89f96ab6ee115c8eae/" class="commit-node commit-node--full">              <p>Redirect to <code>/notes</code> after <code>POST /notes</code> requests</p>

</a><a href="../934066e4fcdca297a3a9155e8f5c674ed23d16a7/" class="commit-node commit-node--full">              <p>Validate presence of <code>notes.content</code></p>

</a><a href="../b7dc64789961abaf7edd2e2ccad85f29d68c0374/" class="commit-node commit-node--full">              <p>Pass <code>model:</code> instead of <code>url:</code> in <code>notes#new</code></p>

</a><a href="./" class="commit-node commit-node--full" aria-current="page">              <p>Internationalize application&#39;s text</p>

</a><a href="../d5d8c7b616774fb5f8a325db27005f1436ae076a/" class="commit-node commit-node--full">              <p>Use <code>FormBuilder</code> to internationalize labels</p>

</a>        </nav>
      </details>

      <article class="
        commit-content
        commit-content--double
        content__item
        content__item--grow
      ">
        <section class="commit commit--message">

          <h1 id="internationalize-applications-text">Internationalize application&rsquo;s text</h1>

<p>When the <code>UserSharesAMessageTest</code> internationalizes the test step to
click on an <code>&lt;a&gt;</code> element that contains the text <code>Share a Note</code> with
<a href="https://github.com/ruby-i18n/i18n/tree/529b83a32036c210e4e35d49a2ac23e956cca67a#rails"><code>I18n.translate(&quot;notes.index.new&quot;)</code></a>, the following
error is raised:</p>
<div class="highlight"><pre class="highlight plaintext"><code>Error:
UserSharesAMessageTest#test_visiting_the_index:
Capybara::ElementNotFound: Unable to find link or button "translation missing: en.notes.index.new"
    test/system/user_shares_a_message_test.rb:8:in `block in &lt;class:UserSharesAMessageTest&gt;'
</code></pre></div>
<p>The key, <code>notes.index.new</code> was selected intentionally. The <code>notes</code>
portion corresponds to the <code>notes</code> controller&rsquo;s internationalization
namespace. The <code>index</code> portion corresponds to the <code>NotesController</code>&lsquo;s
<code>index</code> action. The <code>new</code> portion is arbitrary, but represents the text
that will be rendered into an <code>&lt;a&gt;</code> element linking to the <code>notes#new</code>
route.</p>

<p>Capybara raises this error stating that the text <code>&quot;translation missing:
en.notes.index.new&quot;</code> is not present on the server-generated page. The
<code>en</code> portion prefixing the rest of the internationalization key is
derived from the request&rsquo;s current locale (i.e. English). This error is
not particularly helpful in driving our next code change: rendering
<code>&quot;translation missing: en.notes.index.new&quot;</code> on the page is not a desired
behavior.</p>

<p>The text <code>&quot;translation missing: en.notes.index.new&quot;</code> comes from <a href="https://guides.rubyonrails.org/i18n.html#abstracting-localized-code">Rails&rsquo;
flexible, forgiving default translation behavior</a> while in
<code>development</code> and <code>test</code> environments.</p>

<p>This commit changes that default behavior.</p>

<p>First, it replaces the test&rsquo;s call to <code>I18n.translate</code> with calls to
<code>ActionView::Helpers::TranslationHelper#translate</code>.</p>

<p>Next, by un-commenting the lines in <code>config/environments/test.rb</code> (and
<code>config/environments/development.rb</code> for test/development parity) and
ensuring that our test suite internationalizes text with the same
<a href="https://api.rubyonrails.org/v5.2/classes/ActionView/Helpers/TranslationHelper.html#method-i-translate"><code>translate</code> that <code>ActionView</code> uses</a>, a newer and
more helpful error message is raised:</p>
<div class="highlight"><pre class="highlight plaintext"><code>Error:
UserSharesAMessageTest#test_visiting_the_index:
I18n::MissingTranslationData: translation missing: en.notes.index.new
    test/system/user_shares_a_message_test.rb:8:in `block in &lt;class:UserSharesAMessageTest&gt;'
</code></pre></div>
<p>When that key is declared within the <code>config/locales/en.yml</code> file, the
test passes.</p>

<p>Finally, this commit replaces the <code>Share a Note</code> text that is hard-coded
in the <code>notes/index.html.erb</code> template with a call to <code>translate</code>.</p>

<p>By rendering <code>&lt;%= translate(&quot;.new&quot;) %&gt;</code> in the <code>notes#index</code> view
template, Rails will resolve the <code>.new</code> internationalization key
relative the current &ldquo;context&rdquo;, which is a request to <code>notes#index</code>.</p>

<p><a href="https://api.rubyonrails.org/classes/v5.2/ActionView/Helpers/TranslationHelper.html#method-i-translate">The context is translated into an internationalization scope</a>:
<code>notes.index</code>. This internationalization scope is prepended to the
relative <code>.new</code> key, which is then prepended with the current locale of
<code>en</code>.</p>

<p>This process generates a fully-qualified internationalization key of
<code>en.notes.index.new</code>, which corresponds to the translation we declared
in our test.</p>

        </section>

          <aside class="commit commit--diff commit--long-content">
              <details
  id="app/views/notes/index.html.erb"
  open
  class="file"
>
  <summary class="file__name">
    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--close"><title>Collapse app/views/notes/index.html.erb</title>
  <path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 01.708 0l6 6a.5.5 0 01-.708.708L8 5.707l-5.646 5.647a.5.5 0 01-.708-.708l6-6z" clip-rule="evenodd"></path>
</svg>


    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--open"><title>Expand app/views/notes/index.html.erb</title>
  <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 01.708 0L8 10.293l5.646-5.647a.5.5 0 01.708.708l-6 6a.5.5 0 01-.708 0l-6-6a.5.5 0 010-.708z" clip-rule="evenodd"></path>
</svg>


    <code>
      app/views/notes/index.html.erb
    </code>
  </summary>

<div class="highlight"><pre class="highlight diff"><code><span class="gh">diff --git a/app/views/notes/index.html.erb b/app/views/notes/index.html.erb
index 3720383..06df419 100644
</span><span class="gd">--- a/app/views/notes/index.html.erb
</span><span class="gi">+++ b/app/views/notes/index.html.erb
</span><span class="p">@@ -1,5 +1,5 @@</span>
 &lt;a href="&lt;%= new_note_path %&gt;"&gt;
<span class="gd">-  Share a Note
</span><span class="gi">+  &lt;%= translate(".new") %&gt;
</span> &lt;/a&gt;
 
 &lt;ul&gt;
</code></pre></div></details>

              <details
  id="config/environments/development.rb"
  open
  class="file"
>
  <summary class="file__name">
    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--close"><title>Collapse config/environments/development.rb</title>
  <path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 01.708 0l6 6a.5.5 0 01-.708.708L8 5.707l-5.646 5.647a.5.5 0 01-.708-.708l6-6z" clip-rule="evenodd"></path>
</svg>


    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--open"><title>Expand config/environments/development.rb</title>
  <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 01.708 0L8 10.293l5.646-5.647a.5.5 0 01.708.708l-6 6a.5.5 0 01-.708 0l-6-6a.5.5 0 010-.708z" clip-rule="evenodd"></path>
</svg>


    <code>
      config/environments/development.rb
    </code>
  </summary>

<div class="highlight"><pre class="highlight diff"><code><span class="gh">diff --git a/config/environments/development.rb b/config/environments/development.rb
index 66df51f..59c3fea 100644
</span><span class="gd">--- a/config/environments/development.rb
</span><span class="gi">+++ b/config/environments/development.rb
</span><span class="p">@@ -54,7 +54,7 @@</span> Rails.application.configure do
   config.assets.quiet = true
 
   # Raises error for missing translations.
<span class="gd">-  # config.action_view.raise_on_missing_translations = true
</span><span class="gi">+  config.action_view.raise_on_missing_translations = true
</span> 
   # Use an evented file watcher to asynchronously detect changes in source code,
   # routes, locales, etc. This feature depends on the listen gem.
</code></pre></div></details>

              <details
  id="config/environments/test.rb"
  open
  class="file"
>
  <summary class="file__name">
    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--close"><title>Collapse config/environments/test.rb</title>
  <path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 01.708 0l6 6a.5.5 0 01-.708.708L8 5.707l-5.646 5.647a.5.5 0 01-.708-.708l6-6z" clip-rule="evenodd"></path>
</svg>


    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--open"><title>Expand config/environments/test.rb</title>
  <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 01.708 0L8 10.293l5.646-5.647a.5.5 0 01.708.708l-6 6a.5.5 0 01-.708 0l-6-6a.5.5 0 010-.708z" clip-rule="evenodd"></path>
</svg>


    <code>
      config/environments/test.rb
    </code>
  </summary>

<div class="highlight"><pre class="highlight diff"><code><span class="gh">diff --git a/config/environments/test.rb b/config/environments/test.rb
index 1d62e91..38d436f 100644
</span><span class="gd">--- a/config/environments/test.rb
</span><span class="gi">+++ b/config/environments/test.rb
</span><span class="p">@@ -44,5 +44,5 @@</span> Rails.application.configure do
   config.active_support.deprecation = :stderr
 
   # Raises error for missing translations.
<span class="gd">-  # config.action_view.raise_on_missing_translations = true
</span><span class="gi">+  config.action_view.raise_on_missing_translations = true
</span> end
</code></pre></div></details>

              <details
  id="config/locales/en.yml"
  open
  class="file"
>
  <summary class="file__name">
    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--close"><title>Collapse config/locales/en.yml</title>
  <path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 01.708 0l6 6a.5.5 0 01-.708.708L8 5.707l-5.646 5.647a.5.5 0 01-.708-.708l6-6z" clip-rule="evenodd"></path>
</svg>


    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--open"><title>Expand config/locales/en.yml</title>
  <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 01.708 0L8 10.293l5.646-5.647a.5.5 0 01.708.708l-6 6a.5.5 0 01-.708 0l-6-6a.5.5 0 010-.708z" clip-rule="evenodd"></path>
</svg>


    <code>
      config/locales/en.yml
    </code>
  </summary>

<div class="highlight"><pre class="highlight diff"><code><span class="gh">diff --git a/config/locales/en.yml b/config/locales/en.yml
index cf9b342..4c1b4fd 100644
</span><span class="gd">--- a/config/locales/en.yml
</span><span class="gi">+++ b/config/locales/en.yml
</span><span class="p">@@ -30,4 +30,6 @@</span>
 # available at https://guides.rubyonrails.org/i18n.html.
 
 en:
<span class="gd">-  hello: "Hello world"
</span><span class="gi">+  notes:
+    index:
+      new: "Share a Note"
</span></code></pre></div></details>

              <details
  id="test/models/note_test.rb"
  open
  class="file"
>
  <summary class="file__name">
    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--close"><title>Collapse test/models/note_test.rb</title>
  <path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 01.708 0l6 6a.5.5 0 01-.708.708L8 5.707l-5.646 5.647a.5.5 0 01-.708-.708l6-6z" clip-rule="evenodd"></path>
</svg>


    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--open"><title>Expand test/models/note_test.rb</title>
  <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 01.708 0L8 10.293l5.646-5.647a.5.5 0 01.708.708l-6 6a.5.5 0 01-.708 0l-6-6a.5.5 0 010-.708z" clip-rule="evenodd"></path>
</svg>


    <code>
      test/models/note_test.rb
    </code>
  </summary>

<div class="highlight"><pre class="highlight diff"><code><span class="gh">diff --git a/test/models/note_test.rb b/test/models/note_test.rb
index 679348d..14bc08a 100644
</span><span class="gd">--- a/test/models/note_test.rb
</span><span class="gi">+++ b/test/models/note_test.rb
</span><span class="p">@@ -7,6 +7,6 @@</span> class NoteTest &lt; ActiveSupport::TestCase
     valid = note.validate
 
     assert_equal valid, false
<span class="gd">-    assert_equal note.errors[:content], [I18n.translate("errors.messages.blank")]
</span><span class="gi">+    assert_equal note.errors[:content], [translate("errors.messages.blank")]
</span>   end
 end
</code></pre></div></details>

              <details
  id="test/system/user_shares_a_message_test.rb"
  open
  class="file"
>
  <summary class="file__name">
    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--close"><title>Collapse test/system/user_shares_a_message_test.rb</title>
  <path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 01.708 0l6 6a.5.5 0 01-.708.708L8 5.707l-5.646 5.647a.5.5 0 01-.708-.708l6-6z" clip-rule="evenodd"></path>
</svg>


    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--open"><title>Expand test/system/user_shares_a_message_test.rb</title>
  <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 01.708 0L8 10.293l5.646-5.647a.5.5 0 01.708.708l-6 6a.5.5 0 01-.708 0l-6-6a.5.5 0 010-.708z" clip-rule="evenodd"></path>
</svg>


    <code>
      test/system/user_shares_a_message_test.rb
    </code>
  </summary>

<div class="highlight"><pre class="highlight diff"><code><span class="gh">diff --git a/test/system/user_shares_a_message_test.rb b/test/system/user_shares_a_message_test.rb
index f66c5b1..d6339f8 100644
</span><span class="gd">--- a/test/system/user_shares_a_message_test.rb
</span><span class="gi">+++ b/test/system/user_shares_a_message_test.rb
</span><span class="p">@@ -5,7 +5,7 @@</span> class UserSharesAMessageTest &lt; ApplicationSystemTestCase
     content = "Hello, World!"
 
     visit root_path
<span class="gd">-    click_on "Share a Note"
</span><span class="gi">+    click_on translate("notes.index.new")
</span>     fill_in "Message", with: content
     click_on "Share"
 
</code></pre></div></details>

              <details
  id="test/test_helper.rb"
  open
  class="file"
>
  <summary class="file__name">
    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--close"><title>Collapse test/test_helper.rb</title>
  <path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 01.708 0l6 6a.5.5 0 01-.708.708L8 5.707l-5.646 5.647a.5.5 0 01-.708-.708l6-6z" clip-rule="evenodd"></path>
</svg>


    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--open"><title>Expand test/test_helper.rb</title>
  <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 01.708 0L8 10.293l5.646-5.647a.5.5 0 01.708.708l-6 6a.5.5 0 01-.708 0l-6-6a.5.5 0 010-.708z" clip-rule="evenodd"></path>
</svg>


    <code>
      test/test_helper.rb
    </code>
  </summary>

<div class="highlight"><pre class="highlight diff"><code><span class="gh">diff --git a/test/test_helper.rb b/test/test_helper.rb
index d5300f8..f9ca081 100644
</span><span class="gd">--- a/test/test_helper.rb
</span><span class="gi">+++ b/test/test_helper.rb
</span><span class="p">@@ -3,6 +3,8 @@</span> require_relative '../config/environment'
 require 'rails/test_help'
 
 class ActiveSupport::TestCase
<span class="gi">+  include ActionView::Helpers::TranslationHelper
+
</span>   # Run tests in parallel with specified workers
   parallelize(workers: :number_of_processors)
 
</code></pre></div></details>

          </aside>
      </article>
    </main>
  </body>
</html>
