Prix-Fixe
===

> [**prix fixe**][definition] [ **pree fiks**; _French_ pree **feeks** ]
>
> _noun_, _plural_
>
> 1. a fixed price charged for any meal chosen from the variety listed on the
> menu.

[definition]: https://www.dictionary.com/browse/prix-fixe

---

According to the [Ruby on Rails doctrine][doctrine]:

> Rails is an
> <dfn id="omakase" title="a Japanese phrase that means &quot;I’ll leave it up to you&quot;">
> omakase</dfn> stack, it still allows you to replace certain frameworks
> or libraries with alternatives. It just doesn’t require you to. Which means
> you can delay those decisions until you’ve developed a clear, personal palette
> that may prefer the occasional difference.

This project aspires to put that claim to the test.

[doctrine]: https://rubyonrails.org/doctrine/

The Rules
---

Once the `rails new` command completes, the project is _forbidden_ from adding
or removing a [Rubygems][rubygems], [NPM][npmjs], or [Yarn][yarnpkg] dependency.

This means that we're stuck with Rails' out-of-the-box setup, including:

* [SQLite][] as our data persistance
* [ERB Templates][] for rendering HTML
* [JBuilder][] for serializing to JSON
* [MiniTest][] as our testing framework
* [Fixtures][] to generate test data

The **_only_** exceptions to this rule are dependencies in our `Gemfile` that were
introduced by a `rails new` command. For example, the [`bcrypt` gem][bcrypt],
the [`image_processing` gem][image_processing], and the [`redis` gem][redis] can
be made available as dependencies, since they're generated by `rails new` as
commented-out lines in the `Gemfile`.

[rubygems]: https://guides.rubygems.org/rubygems-basics/
[npmjs]: https://docs.npmjs.com/about-npm/
[yarnpkg]: https://yarnpkg.com/getting-started
[SQLite]: https://sqlite.org/index.html
[MiniTest]: https://github.com/seattlerb/minitest
[Fixtures]: https://api.rubyonrails.org/v6.0.2.2/classes/ActiveRecord/FixtureSet.html
[ERB Templates]: https://ruby-doc.org/stdlib-2.7.0/libdoc/erb/rdoc/ERB.html
[JBuilder]: https://github.com/rails/jbuilder/tree/v2.10.0#jbuilder
[bcrypt]: https://github.com/codahale/bcrypt-ruby/tree/v3.1.13#why-you-should-use-bcrypt
[redis]: https://github.com/redis/redis-rb/tree/v4.0.0#getting-started
[image_processing]: https://github.com/janko/image_processing/tree/v1.2.0#usage

The Goals
---

The primary goal is to tell Rails:

> I'll leave it up to you

and to see what happens.

We'll do our best to build an application with the exact combination of tools
that Rails provides us with.

Rails tutorials of yesteryear often aspired to build toy ["microblogging"
platforms][microblogging], so this project will too.

As an alternative to building a Tw\*tter clone, we'll be building a [Mastodon
client][mastodon]. [Mastodon is built atop the ActivityPub
protocol][mastodon-activitypub]:

> The ActivityPub protocol is a decentralized social networking protocol based
> upon the [ActivityStreams] 2.0 data format. It provides a client to server API
> for creating, updating and deleting content, as well as a federated server to
> server API for delivering notifications and content.
>
> -- [The ActivityPub W3C Protocol Specification][w3c-activitypub]

[microblogging]: https://en.wikipedia.org/wiki/Microblogging
[mastodon]: https://docs.joinmastodon.org/
[mastodon-activitypub]: https://docs.joinmastodon.org/#fediverse
[ActivityStreams]: https://www.w3.org/TR/2018/REC-activitypub-20180123/#bib-ActivityStreams
[w3c-activitypub]: https://www.w3.org/TR/2018/REC-activitypub-20180123/

The Strategy
---

* This application will be built atop a foundation of server-generated HTML,
  hyper-linked to one another through referencing URLs.

* This application will be progressively enhanced in environments where
  JavaScript is available.

* This application will be test driven.

* Each commit in our version control will rationalize changes, illuminate
  details of interest, and (with any luck) will be informative to its reader.

* [The project's story][gh-pages] will be told by its [`git-read`][git-read]
  website.

The [`git` history][git] will start with a step-by-step example illustrating the
project's development style: [Test-Driven Development][tdd] from the
[Outside-in][]. The diffs in these commits will contain the **minimum** amount
of code to transition from one test failure to another, and will often contain
the terminal output from each test run.

Once we're finished iterating through a single [Red-Green-Refactor
cycle][red-green-refactor], the granularity of our commits will increase in
both size and scope.

For the reader's sake, imagine commits added after the end of the first cycle as
the output of adhering to the same process as those created during that cycle.

[gh-pages]: https://seanpdoyle.github.io/prix-fixe
[git-read]: https://github.com/seanpdoyle/git-read
[git]: https://git-scm.com/
[Outside-in]: https://thoughtbot.com/blog/testing-from-the-outsidein
[tdd]: https://thoughtbot.com/upcase/fundamentals-of-tdd
[red-green-refactor]: https://www.codecademy.com/articles/tdd-red-green-refactor
